{
  "AWSTemplateFormatVersion" : "2010-09-09",

  "Description" : "AWS CloudFormation Template to Create a VPC with Public and Private Subnets: This is the template will create FSR,XTR and OpenSwan Instances along with routes,Security Groups Elastic IP's.",

  "Parameters" : {
	
	"AvailabilityZone": {
        "Type": "AWS::EC2::AvailabilityZone::Name",
        "Default": "eu-west-1a",
        "Description": "The listed availability zones are available in this region"
    },
    
	    },
		jkwegfkswgfkjsdhf
		dfghbdfghdfghdfgh
		dfghdfghdfghdfgh
		dfghdfghdfghndfgn
		dfghfghdfgh
		{
		This is to demo commit 5 to Nrsimha
		commit 5
		
		S3 created. s3 glacier created
	
		dhvckasdvh
		sfgsfg
		sfgsdfgsdsdfgsdfg
		}
			
	,
	"PSK" : {
	  "Description" : "Pre Shared Key for VPN connection",
	  "Type" : "String",
	  "ConstraintDescription" : "Use a long, strong key"
	},
    "OpenSwanKeyPair": {
      "Description" : "Name of an existing EC2 KeyPair to enable SSH access to the instance",
      "Type": "AWS::EC2::KeyPair::KeyName",
      "ConstraintDescription" : "must be the name of an existing EC2 KeyPair."
    }
  },
  
  "Mappings": {
		"RegionMap": {
			"us-east-1": {"OpenSwanAMI": "ami-01e4596a","FSRAMI": "ami-91258c87","XTRAMI": "ami-40248d56"},
			"us-west-2": {"OpenSwanAMI": "ami-11323421","FSRAMI": "ami-e9a02989","XTRAMI": "ami-aaa72eca"},
			"us-west-1": {"OpenSwanAMI": "ami-856b92c1","FSRAMI": "ami-f55e0695","XTRAMI": "ami-fa5e069a"},
			"eu-west-1": {"OpenSwanAMI": "ami-f222f881","FSRAMI": "ami-9e9025ed","XTRAMI": "ami-889623fb"},
			"eu-central-1": {"OpenSwanAMI": "ami-0c8bbd11","FSRAMI": "ami-60b6c60a","XTRAMI": "ami-60b6c60a"},
			"ap-southeast-1": {"OpenSwanAMI": "ami-60b6c60a","FSRAMI": "ami-60b6c60a","XTRAMI": "ami-60b6c60a"},
			"ap-northeast-1": {"OpenSwanAMI": "ami-a83fe6c9","FSRAMI": "ami-1534ed74","XTRAMI": "ami-7d32eb1c"},
			"ap-southeast-2": {"OpenSwanAMI": "ami-2a1b2b49","FSRAMI": "ami-5a1a2a39","XTRAMI": "ami-901c2cf3"},
			"ap-northeast-2": {"OpenSwanAMI": "ami-60b6c60a","FSRAMI": "ami-60b6c60a","XTRAMI": "ami-60b6c60a"},
			"ap-south-1": {"OpenSwanAMI": "ami-60b6c60a","FSRAMI": "ami-60b6c60a","XTRAMI": "ami-60b6c60a"},
			"sa-east-1": {"OpenSwanAMI": "ami-60b6c60a","FSRAMI": "ami-60b6c60a","XTRAMI": "ami-60b6c60a"}
		}
	},
    "Resources" : {
    "VPC" : {
      "Type" : "AWS::EC2::VPC",
      "Properties" : {
        "CidrBlock" : {"Ref" : "NetworkID"},
        "Tags" : [ {"Key" : "Name", "Value" : "Rimini VPC" } ]
      }
    },
    "PublicSubnet" : {
      "Type" : "AWS::EC2::Subnet",
      "Properties" : {
        "VpcId" : { "Ref" : "VPC" },
        "CidrBlock" : {"Ref" : "Subnet1"},
		"AvailabilityZone": {"Ref" : "AvailabilityZone"},
        "Tags" : [ {"Key" : "Name", "Value" : "Public Subnet" } ]
      }
    },
	"PrivateSubnet" : {
      "Type" : "AWS::EC2::Subnet",
      "Properties" : {
        "VpcId" : { "Ref" : "VPC" },
        "CidrBlock" : {"Ref" : "Subnet2"},
		"AvailabilityZone": {"Ref" : "AvailabilityZone"},
        "Tags" : [ {"Key" : "Name", "Value" : "Private Subnet" } ]
      }
    },
    "InternetGateway" : {
      "Type" : "AWS::EC2::InternetGateway",
      "Properties" : {
        "Tags" : [ {"Key" : "Name", "Value" : "Internet Gateway" } ]
      }
    },
    "AttachGateway" : {
       "Type" : "AWS::EC2::VPCGatewayAttachment",
       "Properties" : {
         "VpcId" : { "Ref" : "VPC" },
         "InternetGatewayId" : { "Ref" : "InternetGateway" }
       }
    },
	"RiminiDHCP": {
      "Type": "AWS::EC2::DHCPOptions",
      "Properties": {
        "Tags": [ {"Key": "Name", "Value": "Rimini DHCP"}],
        "DomainName": "internal.rsi",
        "DomainNameServers": ["10.12.1.2","10.12.1.107","10.14.1.21","10.14.1.22"]
      }
    },
	"DHCPAssociation": {
      "Type": "AWS::EC2::VPCDHCPOptionsAssociation",
      "Properties": {
        "VpcId": {"Ref": "VPC"},
        "DhcpOptionsId": {"Ref": "RiminiDHCP"}
      }
    },
    "PublicRouteTable" : {
      "Type" : "AWS::EC2::RouteTable",
      "Properties" : {
        "VpcId" : {"Ref" : "VPC"},
        "Tags" : [ {"Key" : "Name", "Value" : "Public Route Table" } ]
      }
    },
	"PublicSubnetRouteTableAssociation" : {
      "Type" : "AWS::EC2::SubnetRouteTableAssociation",
      "Properties" : {
        "SubnetId" : { "Ref" : "PublicSubnet" },
        "RouteTableId" : { "Ref" : "PublicRouteTable" }
      }
    },
	"PrivateRouteTable" : {
      "Type" : "AWS::EC2::RouteTable",
      "Properties" : {
        "VpcId" : {"Ref" : "VPC"},
        "Tags" : [ {"Key" : "Name", "Value" : "Private Route Table" } ]
      }
    },
	"PrivateSubnetRouteTableAssociation" : {
      "Type" : "AWS::EC2::SubnetRouteTableAssociation",
      "Properties" : {
        "SubnetId" : { "Ref" : "PrivateSubnet" },
        "RouteTableId" : { "Ref" : "PrivateRouteTable" }
      }
    },
    "InternetGatewayRoute" : {
      "Type" : "AWS::EC2::Route",
      "DependsOn" : "AttachGateway",
      "Properties" : {
        "RouteTableId" : { "Ref" : "PublicRouteTable" },
        "DestinationCidrBlock" : "0.0.0.0/0",
        "GatewayId" : { "Ref" : "InternetGateway" }
      }
		},
	"NatGateway" : {
	  "DependsOn" : "AttachGateway",
	  "Type" : "AWS::EC2::NatGateway",
	  "Properties" : {
		"AllocationId" : { "Fn::GetAtt" : ["EIP", "AllocationId"]},
		"SubnetId" : { "Ref" : "PublicSubnet"}
      }
	},
	"EIP" : {
	  "Type" : "AWS::EC2::EIP",
	  "Properties" : {
		"Domain" : "vpc"
	  }
	},
	"NatGatewayRoute" : {
	  "Type" : "AWS::EC2::Route",
	  "Properties" : {
		"RouteTableId" : { "Ref" : "PrivateRouteTable" },
		"DestinationCidrBlock" : "0.0.0.0/0",
		"NatGatewayId" : { "Ref" : "NatGateway" }
	  }
	},
    "SGFTP": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "FTP",
		"Tags" : [ {"Key" : "Name", "Value" : "FTP" } ],
        "VpcId": {"Ref": "VPC"},
		"SecurityGroupIngress" : [
          {"IpProtocol" : "tcp", "FromPort" : "21", "ToPort" : "21", "CidrIp" : "0.0.0.0/0"},
          { "IpProtocol" : "tcp", "FromPort" : "12000", "ToPort" : "12100", "CidrIp" : "0.0.0.0/0"}
         ]
      }
    },
    "SGInboundOutbound": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "InboundOutbound",
		"Tags" : [ {"Key" : "Name", "Value" : "InboundOutbound" } ],
        "VpcId": {"Ref": "VPC"},
		"SecurityGroupIngress" : [
          {"IpProtocol" : "-1","CidrIp": "10.12.0.0/16"},
		  {"IpProtocol" : "-1","CidrIp": "10.14.0.0/16"},
		  {"IpProtocol" : "-1","CidrIp": "192.168.0.0/17"},
          { "IpProtocol" : "-1","CidrIp": {"Ref" : "NetworkID"}}
         ]
      }
    },
    "SGVPN": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "VPN",
		"Tags" : [ {"Key" : "Name", "Value" : "VPN" } ],
        "VpcId": {"Ref": "VPC"},
		    "SecurityGroupIngress" : [
          { "IpProtocol" : "-1","CidrIp" : "0.0.0.0/0"}
         ]
      }
    },
	"OpenSwanInstancePublicIP": {
		"Type": "AWS::EC2::EIP",
		"Properties": {
			"Domain": "vpc"
		}
	},
	"OpenSwanInstance": {
		"Type": "AWS::EC2::Instance",
		"Properties": {
			"ImageId": {"Fn::FindInMap": ["RegionMap", {"Ref": "AWS::Region"}, "OpenSwanAMI"]},
			"KeyName" : {"Ref": "OpenSwanKeyPair"},
			"InstanceType": "m1.small",
			"DisableApiTermination": "true",
			"SourceDestCheck": "false",
			"NetworkInterfaces": [{
				"AssociatePublicIpAddress": "false",
				"DeviceIndex": "0",
				"GroupSet": [{"Ref": "SGVPN"}],
				"SubnetId": {"Ref": "PublicSubnet"}
			}],
			"Tags": [{
				"Key": "Name",
				"Value": "OpenSwan VPN"
			}],
			"UserData": {"Fn::Base64": {"Fn::Join": ["", [
				 "#!/bin/bash -ex\n",
					"cd /etc/ipsec.d\n",
					"echo -e 'conn AWS-to-Fremont\n \ttype=tunnel\n \tauthby=secret\n \tleft=%defaultroute\n \tleftid=",{"Ref": "OpenSwanInstancePublicIP"},"\n \tleftnexthop=%defaultroute\n \tleftsubnet=",{"Ref": "NetworkID"},"\n \tright=205.158.104.104\n \trightsubnet=10.12.0.0/16\n \tphase2=esp\n \tike=aes128-sha1\n \tphase2alg=aes128-sha1\n \tikelifetime=28800s\n \tsalifetime=3600s\n \tpfs=no\n \tauto=start'  >AWS-to-Fremont.conf\n",
					"echo -e '",{"Ref": "OpenSwanInstancePublicIP"}," 205.158.104.104: PSK \"",{"Ref": "PSK"},"\" ' >AWS-to-Fremont.secrets\n",
					"echo -e 'conn AWS-to-LasVegas\n \ttype=tunnel\n \tauthby=secret\n \tleft=%defaultroute\n \tleftid=",{"Ref": "OpenSwanInstancePublicIP"},"\n \tleftnexthop=%defaultroute\n \tleftsubnet=",{"Ref": "NetworkID"},"\n \tright=136.179.14.54\n \trightsubnet=10.14.0.0/16\n \tphase2=esp\n \tike=aes128-sha1\n \tphase2alg=aes128-sha1\n \tikelifetime=28800s\n \tsalifetime=3600s\n \tpfs=no\n \tauto=start'  >AWS-to-LasVegas.conf\n",
					"echo -e '",{"Ref": "OpenSwanInstancePublicIP"}," 136.179.14.54: PSK \"",{"Ref": "PSK"},"\" ' >AWS-to-LasVegas.secrets\n",
					"echo -e 'conn AWS-to-Hyderabad\n \ttype=tunnel\n \tauthby=secret\n \tleft=%defaultroute\n \tleftid=",{"Ref": "OpenSwanInstancePublicIP"},"\n \tleftnexthop=%defaultroute\n \tleftsubnet=",{"Ref": "NetworkID"},"\n \tright=182.71.94.146\n \trightsubnet=192.168.0.0/17\n \tphase2=esp\n \tike=aes128-sha1\n \tphase2alg=aes128-sha1\n \tikelifetime=28800s\n \tsalifetime=3600s\n \tpfs=no\n \tauto=start'  >AWS-to-Hyderabad.conf\n",
					"echo -e '",{"Ref": "OpenSwanInstancePublicIP"}," 182.71.94.146: PSK \"",{"Ref": "PSK"},"\" ' >AWS-to-Hyderabad.secrets\n",
					"service ipsec restart\n",
					"chkconfig ipsec on\n"
				]]}}
		}
	},
	"OpenPublicIPAssociation" : {
         "Type" : "AWS::EC2::EIPAssociation",
         "Properties" : {
             "InstanceId" : { "Ref" : "OpenSwanInstance" },
             "AllocationId" : {"Fn::GetAtt": ["OpenSwanInstancePublicIP", "AllocationId"]}
         }
     },
	"FSRInstance01": {
		"Type": "AWS::EC2::Instance",
		"Properties": {
			"ImageId": {"Fn::FindInMap": ["RegionMap", {"Ref": "AWS::Region"}, "FSRAMI"]},
			"InstanceType": "m4.large",
			"DisableApiTermination": "true",
			 "BlockDeviceMappings" : [
               {
                  "DeviceName" : "xvdf",
                  "Ebs" : {
                     "VolumeType" : "gp2",
                     "DeleteOnTermination" : "false",
                     "VolumeSize" : "1024"
                  }
               }
            ],
			"NetworkInterfaces": [{
				"AssociatePublicIpAddress": "false",
				"DeviceIndex": "0",
				"GroupSet": [{"Ref": "SGInboundOutbound"}],
				"SubnetId": {"Ref": "PrivateSubnet"}
			}],
			"Tags": [{
				"Key": "Name",
				"Value": { "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"FSR-01"]]}
			}]
		}
	},
	"XTRInstance01": {
		"Type": "AWS::EC2::Instance",
		"Properties": {
			"ImageId": {"Fn::FindInMap": ["RegionMap", {"Ref": "AWS::Region"}, "XTRAMI"]},
			"InstanceType": "t2.small",
			
			"NetworkInterfaces": [{
				"AssociatePublicIpAddress": "false",
				"DeviceIndex": "0",
				"GroupSet": [{"Ref": "SGInboundOutbound"}],
				"SubnetId": {"Ref": "PrivateSubnet"}
			}],
			"Tags": [{
				"Key": "Name",
				"Value": { "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-01"]]}
			}]
		}
	},
	"XTRInstance02": {
		"Type": "AWS::EC2::Instance",
		"Properties": {
			"ImageId": {"Fn::FindInMap": ["RegionMap", {"Ref": "AWS::Region"}, "XTRAMI"]},
			"InstanceType": "t2.small",
			
			"NetworkInterfaces": [{
				"AssociatePublicIpAddress": "false",
				"DeviceIndex": "0",
				"GroupSet": [{"Ref": "SGInboundOutbound"}],
				"SubnetId": {"Ref": "PrivateSubnet"}
			}],
			"Tags": [{
				"Key": "Name",
				"Value": { "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-02"]]}
			}]
		}
	},
	"XTRInstance03": {
		"Type": "AWS::EC2::Instance",
		"Properties": {
			"ImageId": {"Fn::FindInMap": ["RegionMap", {"Ref": "AWS::Region"}, "XTRAMI"]},
			"InstanceType": "t2.small",
			
			"NetworkInterfaces": [{
				"AssociatePublicIpAddress": "false",
				"DeviceIndex": "0",
				"GroupSet": [{"Ref": "SGInboundOutbound"}],
				"SubnetId": {"Ref": "PrivateSubnet"}
			}],
			"Tags": [{
				"Key": "Name",
				"Value": { "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-03"]]}
			}]
		}
	},
	"XTRInstance04": {
		"Type": "AWS::EC2::Instance",
		"Properties": {
			"ImageId": {"Fn::FindInMap": ["RegionMap", {"Ref": "AWS::Region"}, "XTRAMI"]},
			"InstanceType": "t2.small",
			
			"NetworkInterfaces": [{
				"AssociatePublicIpAddress": "false",
				"DeviceIndex": "0",
				"GroupSet": [{"Ref": "SGInboundOutbound"}],
				"SubnetId": {"Ref": "PrivateSubnet"}
			}],
			"Tags": [{
				"Key": "Name",
				"Value": { "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-04"]]}
			}]
		}
	},
	"XTRInstance05": {
		"Type": "AWS::EC2::Instance",
		"Properties": {
			"ImageId": {"Fn::FindInMap": ["RegionMap", {"Ref": "AWS::Region"}, "XTRAMI"]},
			"InstanceType": "t2.small",
			
			"NetworkInterfaces": [{
				"AssociatePublicIpAddress": "false",
				"DeviceIndex": "0",
				"GroupSet": [{"Ref": "SGInboundOutbound"}],
				"SubnetId": {"Ref": "PrivateSubnet"}
			}],
			"Tags": [{
				"Key": "Name",
				"Value": { "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-05"]]}
			}]
		}
	},
	"XTRInstance06": {
		"Type": "AWS::EC2::Instance",
		"Properties": {
			"ImageId": {"Fn::FindInMap": ["RegionMap", {"Ref": "AWS::Region"}, "XTRAMI"]},
			"InstanceType": "t2.small",
			
			"NetworkInterfaces": [{
				"AssociatePublicIpAddress": "false",
				"DeviceIndex": "0",
				"GroupSet": [{"Ref": "SGInboundOutbound"}],
				"SubnetId": {"Ref": "PrivateSubnet"}
			}],
			"Tags": [{
				"Key": "Name",
				"Value": { "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-06"]]}
			}]
		}
	},
	"XTRInstance07": {
		"Type": "AWS::EC2::Instance",
		"Properties": {
			"ImageId": {"Fn::FindInMap": ["RegionMap", {"Ref": "AWS::Region"}, "XTRAMI"]},
			"InstanceType": "t2.small",
			
			"NetworkInterfaces": [{
				"AssociatePublicIpAddress": "false",
				"DeviceIndex": "0",
				"GroupSet": [{"Ref": "SGInboundOutbound"}],
				"SubnetId": {"Ref": "PrivateSubnet"}
			}],
			"Tags": [{
				"Key": "Name",
				"Value": { "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-07"]]}
			}]
		}
	},
	"Route1" : {
		"Type" : "AWS::EC2::Route",
		"Properties" : {
			"RouteTableId" : { "Ref" : "PrivateRouteTable" },
			"DestinationCidrBlock" : "10.12.0.0/16",
			"InstanceId" : { "Ref" : "OpenSwanInstance" }
		}
	},
	"Route2" : {
		"Type" : "AWS::EC2::Route",
		"Properties" : {
			"RouteTableId" : { "Ref" : "PrivateRouteTable" },
			"DestinationCidrBlock" : "10.14.0.0/16",
			"InstanceId" : { "Ref" : "OpenSwanInstance" }
		}
	},
	"Route3" : {
		"Type" : "AWS::EC2::Route",
		"Properties" : {
			"RouteTableId" : { "Ref" : "PrivateRouteTable" },
			"DestinationCidrBlock" : "192.168.0.0/17",
			"InstanceId" : { "Ref" : "OpenSwanInstance" }
		}
	},
	
	"Route4" : {
		"Type" : "AWS::EC2::Route",
		"Properties" : {
			"RouteTableId" : { "Ref" : "PublicRouteTable" },
			"DestinationCidrBlock" : "10.12.0.0/16",
			"InstanceId" : { "Ref" : "OpenSwanInstance" }
		}
	},
	"Route5" : {
		"Type" : "AWS::EC2::Route",
		"Properties" : {
			"RouteTableId" : { "Ref" : "PublicRouteTable" },
			"DestinationCidrBlock" : "10.14.0.0/16",
			"InstanceId" : { "Ref" : "OpenSwanInstance" }
		}
	},
	"Route6" : {
		"Type" : "AWS::EC2::Route",
		"Properties" : {
			"RouteTableId" : { "Ref" : "PublicRouteTable" },
			"DestinationCidrBlock" : "192.168.0.0/17",
			"InstanceId" : { "Ref" : "OpenSwanInstance" }
		}
	},
	"FileServerSecondNetworkInterface" : {
         "Type" : "AWS::EC2::NetworkInterface",
         "Properties" : {
            "Tags": [{"Key":"Name","Value":"SecondNetworkInterface-FTP"}],
            "Description": "SecondNetworkInterface-FTP",
            "SourceDestCheck": "false",
            "GroupSet": [{"Ref": "SGFTP"}],
            "SubnetId": { "Ref" : "PublicSubnet" }
        }
      }, 
	"FileServerPublicIP": {
			"Type": "AWS::EC2::EIP",
			"Properties": {
				"Domain": "vpc"
			}
	},
	 "FileServerPublicIPAssociation" : {
      "Type" : "AWS::EC2::EIPAssociation",
      "Properties" : {
        "AllocationId" : { "Fn::GetAtt" : [ "FileServerPublicIP", "AllocationId" ]},
        "NetworkInterfaceId" : { "Ref" : "FileServerSecondNetworkInterface" }
      }
    }
	},
"Outputs": {
	"OpenSwanVPN": {
		"Description": "OpenSwan VPN Information",
		"Value": {"Fn::Join": [",", ["OpenSwan VPN",{"Fn::GetAtt": ["OpenSwanInstance", "PrivateIp"]}, {"Ref": "OpenSwanInstancePublicIP"} 
		
		]]}
	},
	"FSR01": {
		"Description": "File Server Instance Name and Private IP Address",
		"Value": {"Fn::Join": [",", [{ "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"FSR-01"]]},{"Fn::GetAtt": ["FSRInstance01", "PrivateIp"]}, {"Ref": "FileServerPublicIP"} 
		
		]]}
	},
	"XTR01": {
		"Description": "Xtract Instance Name and Private IP Address",
		"Value": {"Fn::Join": [",", [{ "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-01"]]},{"Fn::GetAtt": ["XTRInstance01", "PrivateIp"]}
		
		]]}
	},
	"XTR02": {
		"Description": "Xtract Instance Name and Private IP Address",
		"Value": {"Fn::Join": [",", [{ "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-02"]]},{"Fn::GetAtt": ["XTRInstance02", "PrivateIp"]}
		
		]]}
	},
	"XTR03": {
		"Description": "Xtract Instance Name and Private IP Address",
		"Value": {"Fn::Join": [",", [{ "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-03"]]},{"Fn::GetAtt": ["XTRInstance03", "PrivateIp"]}
		
		]]}
	},
	"XTR04": {
		"Description": "Xtract Instance Name and Private IP Address",
		"Value": {"Fn::Join": [",", [{ "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-04"]]},{"Fn::GetAtt": ["XTRInstance04", "PrivateIp"]}
		
		]]}
	},
	"XTR05": {
		"Description": "Xtract Instance Name and Private IP Address",
		"Value": {"Fn::Join": [",", [{ "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-05"]]},{"Fn::GetAtt": ["XTRInstance05", "PrivateIp"]}
		
		]]}
	},
	"XTR06": {
		"Description": "Xtract Instance Name and Private IP Address",
		"Value": {"Fn::Join": [",", [{ "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-06"]]},{"Fn::GetAtt": ["XTRInstance06", "PrivateIp"]}
		
		]]}
	},
	"XTR07": {
		"Description": "Xtract Instance Name and Private IP Address",
		"Value": {"Fn::Join": [",", [{ "Fn::Join": ["-",["AMW",{"Ref":"ClientCode"},"XTR-07"]]},{"Fn::GetAtt": ["XTRInstance07", "PrivateIp"]}
		
		]]}
	}
	}
}	